<!--
{% capture page_tags %}{% for tag in page.tags %}{{ tag | downcase }}#{{ tag }}{% unless forloop.last %},{% endunless %}{% endfor %}{% endcapture %}
{% assign tag_hashes = (page_tags | split: ',' | sort:0) %}
<p class="page__taxonomy">
  <strong><i class="fa fa-fw fa-tags" aria-hidden="true"></i> {{ site.data.ui-text[site.locale].tags_label | default: "Tags:" }} </strong>
  <span itemprop="keywords">
  {% for hash in tag_hashes %}
    {% assign keyValue = hash | split: '#' %}
    {% capture tag_word %}{{ keyValue[1] | strip_newlines }}{% endcapture %}
    <a href="{{ tag_word | slugify | prepend: path_type | prepend: site.tag_archive.path | absolute_url }}" class="page__taxonomy-item" rel="tag">{{ tag_word }}</a>{% unless forloop.last %}<span class="sep">, </span>{% endunless %}
  {% endfor %}
  </span>
</p>
-->

<h3><i class="fa fa-fw fa-tags" aria-hidden="true"></i> Topics</h3>

{% assign tags = site.tags | sort %}

<div class="tag-cloud">
  <p>
  {% for tag in tags %}
    {% capture tag_word %}{{ tag[0] | strip_newlines }}{% endcapture %}
    {% assign post_count = tag | last | size %}

    <!-- Setting the size of the item based on the number of posts -->
    {% if post_count >= 15 %}
      {% assign size = 'extralarge' %}
    {% elsif post_count >= 9 %}
      {% assign size = 'large' %}
    {% elsif post_count >= 4 %}
      {% assign size = 'medium' %}
    {% else %}
      {% assign size = 'small' %}
    {% endif %}

    {% capture tag_link_url %}{{ tag_word | slugify | prepend: "#" | prepend: site.tag_archive.path | absolute_url }}{% endcapture %}

    <a href="{{ tag_link_url }}" class="tag-cloud-item {{ size }}" rel="tag">{{ tag_word }}</a>
  {% endfor %}
  </p>
</div>