_id: d23c5500-aa47-11e9-afbe-45c42c8a0a63
message: "ps. It's worth saying that setting preferences is fine if you're working in a given context.\r\ni.e. setting `$ErrorActionPreference = Stop` as the first line of your function/cmdlet ensures that user preferences don't impact the behavior of your own function's code.\r\n\r\nKnowing that the preference reverts as you go back up the call stack is a key point in understanding this.\r\n\r\n```\r\nfunction Demo {\r\n    [CmdletBinding()]\r\n    Param()\r\n    Process {\r\n        \"Demo Start $ErrorActionPreference\" #this will always match what was set in the parent context\r\n        $ErrorActionPreference = [System.Management.Automation.ActionPreference]::Stop\r\n        \"Demo Mid $ErrorActionPreference\" #this will always be stop, as we've just set it above\r\n        Demo2\r\n        \"Demo End $ErrorActionPreference\" #this will always be stop, as we've returned to the this level in the call stack\r\n    }\r\n}\r\nfunction Demo2 {\r\n    [CmdletBinding()]\r\n    Param()\r\n    Process {\r\n        \"Demo2 Start $ErrorActionPreference\" #this will always match what was set in the parent context (i.e. in Demo, so will be Stop)\r\n        $ErrorActionPreference = [System.Management.Automation.ActionPreference]::Inquire\r\n        \"Demo2 End $ErrorActionPreference\" #this will always be Inquire, set above\r\n    }\r\n}\r\n$ErrorActionPreference = [System.Management.Automation.ActionPreference]::Continue\r\n$ErrorActionPreference #continue, set above\r\nDemo\r\n$ErrorActionPreference #continue, set above / ignores what happenned in Demo/Demo2 as they're lower down in the call stack\r\nDemo\r\n$ErrorActionPreference = [System.Management.Automation.ActionPreference]::Ignore\r\nDemo\r\n$ErrorActionPreference #ignore, set above / ignores what happenned in Demo/Demo2 as they're lower down in the call stack\r\n```"
name: John Bevan
email: e63b1aa23612f1302ddfc2886effaa73
url: 'https://developer42.wordpress.com'
hidden: ''
date: '2019-07-19T17:08:26.302Z'
